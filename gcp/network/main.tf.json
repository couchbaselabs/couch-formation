{
    "provider": {
        "google": [
            {
                "credentials": "${file(var.cf_gcp_account_file)}",
                "project": "${var.cf_gcp_project}",
                "region": "${var.region_name}"
            }
        ]
    },
    "resource": {
        "google_compute_firewall": {
            "cf_fw_cb": [
                {
                    "allow": [
                        {
                            "ports": [
                                "8091-8097",
                                "9123",
                                "9140",
                                "11210",
                                "11280",
                                "11207",
                                "18091-18097",
                                "4984-4986"
                            ],
                            "protocol": "tcp"
                        }
                    ],
                    "name": "${var.cf_env_name}-fw-cb",
                    "network": "${google_compute_network.cf_vpc.name}",
                    "source_ranges": [
                        "0.0.0.0/0"
                    ]
                }
            ],
            "cf_fw_ssh": [
                {
                    "allow": [
                        {
                            "ports": [
                                "22"
                            ],
                            "protocol": "tcp"
                        }
                    ],
                    "name": "${var.cf_env_name}-fw-ssh",
                    "network": "${google_compute_network.cf_vpc.name}",
                    "source_ranges": [
                        "0.0.0.0/0"
                    ]
                }
            ],
            "cf_fw_vpc": [
                {
                    "allow": [
                        {
                            "protocol": "all"
                        }
                    ],
                    "name": "${var.cf_env_name}-fw-vpc",
                    "network": "${google_compute_network.cf_vpc.name}",
                    "source_ranges": [
                        "${var.cf_vpc_cidr}"
                    ]
                }
            ]
        },
        "google_compute_network": {
            "cf_vpc": [
                {
                    "auto_create_subnetworks": false,
                    "name": "${var.cf_env_name}-vpc"
                }
            ]
        },
        "google_compute_subnetwork": {
            "cf_subnet_1": [
                {
                    "ip_cidr_range": "${var.cf_subnet_cidr_1}",
                    "name": "${var.cf_env_name}-subnet-1",
                    "network": "${google_compute_network.cf_vpc.id}",
                    "region": "${var.region_name}"
                }
            ]
        }
    },
    "variable": {
        "cf_env_name": [
            {
                "default": "dev10db",
                "description": "Couchbase cluster name",
                "type": "string"
            }
        ],
        "cf_gcp_account_file": [
            {
                "default": "/Users/michaelminichino/.config/gcloud/couchbase-se-central-us-e3b50e2b4bad.json",
                "description": "The auth JSON",
                "type": "string"
            }
        ],
        "cf_gcp_project": [
            {
                "default": "couchbase-se-central-us",
                "description": "The GCP project",
                "type": "string"
            }
        ],
        "cf_subnet_cidr_1": [
            {
                "default": "10.99.1.0/24",
                "description": "Couchbase cluster name",
                "type": "string"
            }
        ],
        "cf_vpc_cidr": [
            {
                "default": "10.99.0.0/16",
                "description": "Couchbase cluster name",
                "type": "string"
            }
        ],
        "region_name": [
            {
                "default": "us-central1",
                "description": "Region name",
                "type": "string"
            }
        ]
    }
}
